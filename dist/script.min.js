let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=100",n=document.querySelector("#modal-container");function o(t){e.push(t)}function l(e){i(e).then(function(){})}function i(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(e){let t=e.sprites.front_default,n=e.height,o=e.types,l=document.querySelector("#pokemon-height"),i=document.querySelector("#pokemon-img");l.innerHTML="Height : "+n,document.querySelector("#pokemonModalTitle").innerHTML=e.name,i.src=t;for(let e=0;e<o.length;e++){let t=document.querySelector(".modal-body"),n=document.querySelector("#pokemon-types");n.innerHTML="";let l=document.createElement("button");l.innerText=o[e].type.name,l.classList.add("pok_typ_btn"),l.classList.add(o[e].type.name),t.appendChild(l),n.appendChild(l)}}).catch(function(e){console.error(e)})}return window.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.contains("is-visible")&&n.classList.remove("is-visible")}),{getAll:function(){return e},add:o,addListItem:function(e){let t=document.querySelector(".grid_layout"),n=document.createElement("div");n.classList.add("grid_item"),t.appendChild(n);let o=document.createElement("li"),i=document.createElement("button");i.innerText=e.name,$(i).addClass("btn btn-primary"),o.appendChild(i),n.appendChild(o),i.setAttribute("data-target","#pokemonModal"),i.setAttribute("data-toggle","modal"),i.addEventListener("click",function(){l(e)})},showDetails:l,loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i}}();function scrollFunction(){var e=document.getElementById("gotoTop");document.body.scrollTop>100||document.documentElement.scrollTop>20?e.style.display="block":e.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),window.onscroll=function(){scrollFunction()};
